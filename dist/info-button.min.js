!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("@clappr/core")):"function"==typeof define&&define.amd?define(["@clappr/core"],n):(t="undefined"!=typeof globalThis?globalThis:t||self).InfoButton=n(t.Clappr)}(this,(function(t){"use strict";function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,n){return(i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function o(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function u(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,u=e(t);if(n){var r=e(this).constructor;i=Reflect.construct(u,arguments,r)}else i=u.apply(this,arguments);return o(this,i)}}var r='.info_button[data-info-button] {\n  float: right;\n  position: relative;\n  height: 100%;\n}\n.info_button[data-info-button] button {\n  background-color: transparent;\n  color: #fff;\n  font-family: Roboto, "Open Sans", Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  border: none;\n  font-size: 10px;\n  height: 100%;\n  cursor: pointer;\n}\n.info_button[data-info-button] button img {\n  height: 22px;\n}\n.info_button[data-info-button] button:hover {\n  color: #c9c9c9;\n}\n.info_button[data-info-button] button.changing {\n  -webkit-animation: pulse 0.5s infinite alternate;\n}\n.info_button[data-info-button] > ul {\n  list-style-type: none;\n  position: absolute;\n  bottom: 100%;\n  border: 1px solid black;\n  display: none;\n  background-color: #e6e6e6;\n  white-space: nowrap;\n}\n.info_button[data-info-button] > ul.container {\n  bottom: 50%;\n  right: 5px;\n  z-index: 1000;\n}\n.info_button[data-info-button] li {\n  font-size: 10px;\n}\n.info_button[data-info-button] li[data-title] {\n  background-color: #c3c2c2;\n  padding: 5px;\n}\n.info_button[data-info-button] li a {\n  color: #444;\n  padding: 2px 10px;\n  display: block;\n  text-decoration: none;\n}\n.info_button[data-info-button] li a:hover {\n  background-color: #555;\n  color: white;\n}\n.info_button[data-info-button] li a:hover a {\n  color: white;\n  text-decoration: none;\n}\n.info_button[data-info-button] li.current a {\n  color: #f00;\n}\n\n@-webkit-keyframes pulse {\n  0% {\n    color: #fff;\n  }\n  50% {\n    color: #ff0101;\n  }\n  100% {\n    color: #B80000;\n  }\n}';!function(t,n){void 0===n&&(n={});var e=n.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===e&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(r);var a=[{label:"About",link:"https://github.com/datarhei/clappr-info-button-plugin"}],l="Info",s={title:l};return function(e){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&i(t,n)}(g,e);var o,f,c,h=u(g);function g(t){var n;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,g),(n=h.call(this,t)).configure(),n}return o=g,c=[{key:"version",get:function(){return"0.2.9"}}],(f=[{key:"supportedVersion",get:function(){return{min:"0.4.18"}}},{key:"name",get:function(){return"info-button"}},{key:"template",get:function(){return t.template('<% if (visible) { %>\n<button data-info-button-button>\n\t<% if (button) { %>\n\t\t<% if (button.image) { %>\n\t\t\t<img src="<%= button.image %>" title="<%= button.title %>">\n\t\t<% } else if (button.title) { %>\n\t\t\t<%= button.title %>\n\t\t<% }; %>\n\t<% } else if (title) { %>\n\t\t<%= title %>\n\t<% }; %>\n</button>\n<% } %>\n<ul class="<% if (!visible) { %>container<% } %>">\n\t<% if (title) { %>\n\t<li data-title><%= title %></li>\n\t<% }; %>\n\t<% for (var i = 0; i < items.length; i++) { %>\n\t\t<li><a href="#" data-info-button-select="<%= items[i].id %>"><%= items[i].label %></a></li>\n\t<% }; %>\n</ul>\n')}},{key:"attributes",get:function(){return{class:this.name,"data-info-button":""}}},{key:"events",get:function(){return{"click [data-info-button-select]":"onInfoButton","click [data-info-button-button]":"onShowInfoButtonMenu"}}},{key:"bindEvents",value:function(){this.listenTo(this.container,t.Events.CONTAINER_OPTIONS_CHANGE,this.reload),this.listenTo(this.container,t.Events.CONTAINER_MEDIACONTROL_SHOW,this.render),this.listenTo(this.container,t.Events.CONTAINER_MEDIACONTROL_HIDE,this.hideInfoButtonMenu)}},{key:"reload",value:function(){this.$el.remove(),this.configure()}},{key:"configure",value:function(){var n=this.options.infoButtonConfig||{};this.visible=!0,"visible"in n&&(this.visible=!!n.visible),this.lang=this.language(),"language"in n&&(this.lang=n.language),this.strings={},"strings"in n&&(this.strings=n.strings),this.infoButton=s,"button"in n&&(this.infoButton=n.button),this.infoTitle=l,"title"in n&&(this.infoTitle=n.title),this.infoItems=a,"options"in n&&(this.infoItems=n.options),this.selectTranslation();for(var e=0;e<this.infoItems.length;e++)this.infoItems[e].id="info"+e;var i=t.Styler.getStyleFor(r,{baseUrl:this.options.baseUrl});this.$el.html(this.template({visible:this.visible,button:this.infoButton,items:this.infoItems,title:this.getTitle()})),this.$el.append(i),this.rendered=!1}},{key:"render",value:function(){!0!==this.rendered&&(this.rendered=!0,!0===this.visible?t.$(".media-control-right-panel").append(this.$el):this.container.$el.append(this.$el))}},{key:"language",value:function(){return this.options.language||t.Utils.getBrowserLanguage()}},{key:"selectTranslation",value:function(){var t=null;if(this.lang in this.strings&&(t=this.strings[this.lang]),null==t){var n=this.lang.match(/^([a-z]+)-[A-Z]+$/);if(null!==n){var e=n[1];e in this.strings&&(t=this.strings[e])}}null!=t&&("options"in t&&(this.infoItems=t.options),"title"in t&&(this.infoTitle=t.title,this.infoButton.title=t.title))}},{key:"onInfoButton",value:function(t){var n=t.target.dataset.infoButtonSelect;for(var e in this.infoItems)if(this.infoItems[e].id==n){"function"==typeof this.infoItems[e].link?this.infoItems[e].link():window.open(this.infoItems[e].link);break}return this.toggleContextMenu(),t.stopPropagation(),!1}},{key:"onShowInfoButtonMenu",value:function(){this.toggleContextMenu()}},{key:"hideInfoButtonMenu",value:function(){this.$(".info_button ul").hide()}},{key:"showInfoButtonMenu",value:function(){this.$(".info_button ul").show()}},{key:"toggleContextMenu",value:function(){this.$(".info_button ul").toggle()}},{key:"buttonElement",value:function(){return this.$(".info_button button")}},{key:"getTitle",value:function(){return this.infoTitle}},{key:"pluginControl",value:function(){var t=this;return{icon:function(){return this.toggled()?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0xIDE1aC0ydi02aDJ2NnptMC04aC0yVjdoMnYyeiIvPjwvc3ZnPg==":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBmaWxsPSIjRkYwMDAwIj48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTEgMTVoLTJ2LTZoMnY2em0wLThoLTJWN2gydjJ6Ii8+PC9zdmc+"},name:function(){return t.infoTitle},toggle:function(){return t.toggleContextMenu(),this.toggled()},toggled:function(){return"none"!==t.$(".info_button ul").css("display")}}}}])&&n(o.prototype,f),c&&n(o,c),g}(t.UIContainerPlugin)}));
//# sourceMappingURL=info-button.min.js.map
